{% extends "base.html" %}

{% block head %}
{{ super() }}
<style>
    .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
    }

    @media (min-width: 768px) {
        .bd-placeholder-img-lg {
            font-size: 3.5rem;
        }
    }

    .b-example-divider {
        height: 3rem;
        background-color: rgba(0, 0, 0, .1);
        border: solid rgba(0, 0, 0, .15);
        border-width: 1px 0;
        box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);
    }

    .b-example-vr {
        flex-shrink: 0;
        width: 1.5rem;
        height: 100vh;
    }

    .bi {
        vertical-align: -.125em;
        fill: currentColor;
    }

    .nav-scroller {
        position: relative;
        z-index: 2;
        height: 2.75rem;
        overflow-y: hidden;
    }

    .nav-scroller .nav {
        display: flex;
        flex-wrap: nowrap;
        padding-bottom: 1rem;
        margin-top: -1px;
        overflow-x: auto;
        text-align: center;
        white-space: nowrap;
        -webkit-overflow-scrolling: touch;
    }
</style>
{% endblock %}

{% block content %}
<div class="container py-4">
    <h1 class="display-5 fw-bold">Object Detection</h1>
    <p class="col-md-8 fs-4">Upload image to use custom model of Yolov5 model.</p>
    <div class="row align-items-md-stretch">
        <div class="col-md-6">
            <div class="h-100 p-5 bg-light border rounded-3">
                <h2>Detect from a image.</h2>
                <form method="post" enctype=multipart/form-data>
                    <div class="input-group mt-3">
                        <input type="file" class="form-control" id="imageinput" type="file" name="image"
                            onchange="readUrl(this)">
                        <button class="btn btn-primary" type="button" name="send" id="sendbutton">Detect</button>
                    </div>
                </form>
                {% for message in get_flashed_messages() %}
                <h2>{{ message }}</h2>
                {% endfor %}
                <div className="pre_img" class="mt-3 d-flex justify-content-center">
                    <div class="text-center">
                        <a href="" id="abox" data-featherlight="image">
                            <img id="imagebox" src="" class="img_responsive" style="width: 80% ; height:auto;">
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="h-100 p-5 text-white bg-dark rounded-3">
                <h2>EasyOCR</h2>
                <p>Ready-to-use OCR with 80+ supported languages and all popular writing scripts including
                    Latin,
                    Chinese, Arabic, Devanagari, Cyrillic and etc.</p>
                <div class="mt-3 d-flex justify-content-start">
                    <div class="text-start">
                        <p id="cbox" style="white-space: pre-wrap;"></p>
                    </div>
                </div>
                <form method="post" id="input-form">
                    <div id="inputBox">
                    </div>
                </form>
                <button class="btn btn-outline-light" type="button" id="sendtoDB" style="display:none;">Upload to
                    database</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}